<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ng="http://angularjs.org"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<div ng-controller="InitialDialogCtrl">
	<div id="initialDialog">
		<div class="block">
			<table>
				<tr class="head">
					<td colspan="2"><h3><input type="radio" value="create" ng-model="chosenInitialType" ng-disabled="chosenInitialType == 'confirmed'" /> Create new szenario</h3></td>
				</tr>
				<tr>
					<td>City name</td>
					<td>
						<input class="normalWidth" type="text" title="enter the cities name" ng-model="#{startParameter.city.name}" ng-disabled="chosenInitialType != 'create'" />
					</td>
				</tr>
				<tr>
					<td>Bus system</td>
					<td>
						<h:selectOneMenu class="normalWidth" value="#{startParameter.getoSMAndBusstopFileData().busStopFileName}" >
							<f:selectItem itemLabel="#{startParameter.getoSMAndBusstopFileData().busStopFileName}" itemValue="#{startParameter.getoSMAndBusstopFileData().busStopFileName}"/>
						</h:selectOneMenu></td>
				</tr>
				<tr>
					<td>Street map</td>
					<td>
						<h:selectOneMenu class="normalWidth" value="#{startParameter.getoSMAndBusstopFileData().osmFileName}" disabled="#{initDialogCtrl.chosenInitialType eq 'create'}">
							<f:selectItem itemLabel="#{startParameter.getoSMAndBusstopFileData().osmFileName}" itemValue="#{startParameter.getoSMAndBusstopFileData().osmFileName}"/>
						</h:selectOneMenu></td>
				</tr>
			</table>
		</div>
		<div class="block">
			<table>
				<tr class="head">
					<td><h3><input type="radio" value="recent" ng-model="chosenInitialType" ng-disabled="chosenInitialType == 'confirmed'" /> Load recently started scenario</h3></td>
				</tr>
				<tr>
					<td>
						<b>Recent scenarios:</b>
						<div>
							<select class="largeWidth" ng-model="chosenRecentScenario" ng-options="s.name for s in recentScenarios" ng-disabled="chosenInitialType != 'recent' || !onConnectMessageReceived"></select>
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div><b>Current:</b></div>
						<div>File name: {{chosenRecentScenario.path}}</div>
						<div>Date: {{chosenRecentScenario.timestamp| date:'dd.MM.yyyy @ H:mm:ss'}}</div>
					</td>
				</tr>
			</table>
		</div>
		<div class="block">
			<table>
				<tr class="head">
					<td><h3><input type="radio" value="import" ng-model="chosenInitialType" ng-disabled="chosenInitialType == 'confirmed'" /> Import existing scenario</h3></td>
				</tr>
				<tr>
					<td>
						<b>Load XML:</b>
						<div>
							<input class="largeWidth" type="file" id="fileUpload" ng-disabled="chosenInitialType != 'import'" accept="text/xml" />â€‹
						</div>
					</td>
				</tr>
			</table>
		</div>
	</div>
	<input type="button" class="fullWidth" value="Confirm" ng-click="confirmInitialDialog()" ng-disabled="chosenInitialType == 'confirmed'" />
</div>
</ui:composition>